# ๐ง ุฅุตูุงุญ: ุนุฏู ุธููุฑ ุงูุนูููุงุช ูู Frontend

**ุงูุชุงุฑูุฎ:** 2 ููุงูุฑ 2026

---

## ุงููุดููุฉ โ

ุนูุฏ ุงุณุชุฏุนุงุก endpoint `/api/processes/frontend`ุ ูุงูุช ุงูุนูููุงุช ูุง ุชุธูุฑ ุญุชู ูููุณุชุฎุฏู admin ุงููุฑุชุจุท ุจูุง:

```json
{
  "success": true,
  "data": [],  // โ ูุงุฑุบุฉ!
  "pagination": {
    "limit": 50,
    "offset": 0,
    "total": 0
  }
}
```

---

## ุงูุณุจุจ ๐

ูู `ProcessController.js` (ุงูุณุทูุฑ 1225-1233):

```javascript
// โ ุงูููุฏ ุงููุฏูู
const allowedIds = new Set(
  links
    .filter(link => (link.role || '').toLowerCase() === 'member')  // โ ููุท member!
    .map(link => link.process_id)
);
```

**ุงููุดููุฉ:**
- ุงูููุฏ ูุงู ูููุชุฑ ููุท ุงูุฑูุงุจุท ุงูุชู ููุง `role = 'member'`
- ุงููุณุชุฎุฏู admin ุชู ุฑุจุทู ุจู `role = 'admin'`
- ูุฐูู ูู ุชุธูุฑ ุงูุนูููุฉ ูู ุงููุงุฆูุฉ!

---

## ุงูุญู โ

ุชู ุฅุฒุงูุฉ ุงูููุชุฑุฉ ุนูู role:

```javascript
// โ ุงูููุฏ ุงูุฌุฏูุฏ
const allowedIds = new Set(
  links
    // โ ุฌููุน ุงูุฃุฏูุงุฑ: admin, member, viewer
    .map(link => link.process_id)
);
```

---

## ุงูุชุฃุซูุฑ

ุงูุขู endpoint `/api/processes/frontend` ูุนุฑุถ:
- โ ุงูุนูููุงุช ูููุณุชุฎุฏููู ุจู role = **admin**
- โ ุงูุนูููุงุช ูููุณุชุฎุฏููู ุจู role = **member**
- โ ุงูุนูููุงุช ูููุณุชุฎุฏููู ุจู role = **viewer**

---

## ุงูุงุฎุชุจุงุฑ

### 1. ุฃุนุฏ ุชุดุบูู Backend

```bash
# ุฃููู Backend (Ctrl+C)
# ุซู ุฃุนุฏ ุชุดุบููู
cd api
node server.js
```

### 2. ุงุฎุชุจุฑ ุงูุทูุจ

```bash
curl -X GET \
  'http://172.30.16.1:3004/api/processes/frontend?is_active=true&limit=50&offset=0&demo=false' \
  -H 'Authorization: Bearer YOUR_TOKEN'
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

```json
{
  "success": true,
  "data": [
    {
      "id": "76c66fdc-ce84-4900-ab16-d8deadaf2a62",
      "name": "ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ",
      "description": "ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ ูููุธุงู",
      "color": "#3B82F6",
      "icon": "FolderOpen",
      "is_active": true,
      "stages": [
        {
          "id": "...",
          "name": "ูุฑุญูุฉ ุฌุฏูุฏุฉ",
          "color": "#6B7280",
          "priority": 1,
          "is_initial": true,
          "is_final": false,
          "tickets_count": "0"
        },
        {
          "id": "...",
          "name": "ููุฏ ุงููุฑุงุฌุนุฉ",
          "color": "#F59E0B",
          "priority": 2,
          "is_initial": false,
          "is_final": false,
          "tickets_count": "0"
        },
        {
          "id": "...",
          "name": "ููุชููุฉ",
          "color": "#10B981",
          "priority": 3,
          "is_initial": false,
          "is_final": true,
          "tickets_count": "0"
        }
      ],
      "fields": [],
      "settings": {}
    }
  ],
  "pagination": {
    "limit": 50,
    "offset": 0,
    "total": 1
  }
}
```

---

## ุงููููุงุช ุงููุนุฏูุฉ

1. โ **`api/controllers/ProcessController.js`**
   - ุงูุณุทูุฑ 1225-1233
   - ุฅุฒุงูุฉ `.filter(link => (link.role || '').toLowerCase() === 'member')`
   - ุงูุณูุงุญ ุจุฌููุน ุฃุฏูุงุฑ user_processes

---

## ููุทู ุงูุนุฑุถ ุงูุขู

### Super Admin:
- โ ูุฑู **ุฌููุน** ุงูุนูููุงุช ูู ุงููุธุงู
- ูุง ูุญุชุงุฌ ูุฑุจุท ูู `user_processes`

### Admin (ูู ุนูููุฉ):
- โ ูุฑู ุงูุนูููุงุช ุงููุฑุชุจุท ุจูุง ุจู role = **admin**
- ูุงูู ุงูุตูุงุญูุงุช ุนูู ุงูุนูููุงุช ุงููุฑุชุจุท ุจูุง

### Member (ูู ุนูููุฉ):
- โ ูุฑู ุงูุนูููุงุช ุงููุฑุชุจุท ุจูุง ุจู role = **member**
- ุตูุงุญูุงุช ูุญุฏูุฏุฉ ุญุณุจ ุงูู permissions

### Viewer (ูู ุนูููุฉ):
- โ ูุฑู ุงูุนูููุงุช ุงููุฑุชุจุท ุจูุง ุจู role = **viewer**
- ุตูุงุญูุฉ ูุฑุงุกุฉ ููุท

---

## ููุงุญุธุงุช ูููุฉ

### 1. ุฃุฏูุงุฑ user_processes

ุฌุฏูู `user_processes` ูุฏุนู 3 ุฃุฏูุงุฑ:
- **admin**: ุฅุฏุงุฑุฉ ูุงููุฉ ููุนูููุฉ
- **member**: ุนุถู ูุดุท ูู ุงูุนูููุฉ
- **viewer**: ูุดุงูุฏุฉ ููุท

### 2. ุงููุฑู ุจูู Roles

- **System Role** (ูู ุฌุฏูู `users`): ูุซู "Super Admin", "Manager", "Employee"
- **Process Role** (ูู ุฌุฏูู `user_processes`): ูุซู "admin", "member", "viewer"

### 3. ููุทู ุงูุตูุงุญูุงุช

```
1. ุชุญูู ูู System Role
   โ (ุฅุฐุง Super Admin โ ุฌููุน ุงูุนูููุงุช)
   โ (ุบูุฑ ุฐูู โ ุชุงุจุน)
   โ
2. ุฌูุจ ุฑูุงุจุท user_processes
   โ
3. ููุชุฑุฉ ุงูุนูููุงุช ุญุณุจ ุงูุฑูุงุจุท (ุจุบุถ ุงููุธุฑ ุนู role)
   โ
4. ุนุฑุถ ุงููุชูุฌุฉ
```

---

## ุงูุฎูุงุตุฉ

โ **ุชู ุญู ุงููุดููุฉ**  
โ **ุงูุนูููุงุช ุชุธูุฑ ุงูุขู ูููุณุชุฎุฏู admin**  
โ **ูุนูู ูุน ุฌููุน ุฃุฏูุงุฑ user_processes**  
โ **ููุทู ุงูุตูุงุญูุงุช ูุญููุธ**  

---

## ุงุฎุชุจุฑ ุงูุขู! ๐

```bash
# 1. ุฃุนุฏ ุชุดุบูู Backend
cd api
node server.js

# 2. ุงูุชุญ ุงููุชุตูุญ
http://192.168.56.1:3080/kanban

# 3. ูุฌุจ ุฃู ุชุธูุฑ "ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ" ูุน 3 ูุฑุงุญู!
```

