# ๐ง ุญู ูุดููุฉ 401 Unauthorized

## โ ุงููุดููุฉ

ุนูุฏ ูุชุญ Modal ูุฅุถุงูุฉ ูุณุชุฎุฏูุ ูุงู ูุญุฏุซ ุฎุทุฃ:
```
GET http://localhost:3004/api/users 401 (Unauthorized)
```

---

## ๐ ุงูุณุจุจ

ูุงู ุงูููุฏ ูุณุชุฎุฏู `fetch` ูุจุงุดุฑุฉ ูุน `localStorage.getItem('token')`:

```typescript
// โ ุงูุทุฑููุฉ ุงููุฏููุฉ
const token = localStorage.getItem('token');
const response = await fetch('http://localhost:3004/api/users', {
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  }
});
```

**ุงููุดููุฉ**: 
- Token ูุฏ ูููู ููุชูู ุงูุตูุงุญูุฉ
- ูุง ููุฌุฏ refresh token ุชููุงุฆู
- ูุง ููุฌุฏ ูุนุงูุฌุฉ ููุฃุฎุทุงุก

---

## โ ุงูุญู

ุงุณุชุฎุฏุงู `userService` ุงูุฐู ูุณุชุฎุฏู `apiClient`:

```typescript
// โ ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ
const response = await userService.getAllUsers({ per_page: 1000 });
```

**ุงูููุงุฆุฏ**:
- โ `apiClient` ููุฑุณู Token ุชููุงุฆูุงู
- โ ููุญุฏูุซ Token ุฅุฐุง ุงูุชูุช ุตูุงุญูุชู
- โ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก
- โ ููุฏ ุฃูุธู ูุฃูุตุฑ

---

## ๐ ูุง ุชู ุชุบููุฑู

### 1. ุฅุถุงูุฉ Import:
```typescript
import userService from '../../services/userService';
```

### 2. ุชุญุฏูุซ ุฏุงูุฉ loadAllUsers:

#### ูุจู (45 ุณุทุฑ):
```typescript
const loadAllUsers = async () => {
  setIsLoadingUsers(true);
  try {
    const token = localStorage.getItem('token');
    const response = await fetch('http://localhost:3004/api/users', {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    
    if (response.ok) {
      const data = await response.json();
      // ... ูุนุงูุฌุฉ ูุนูุฏุฉ
    }
  } catch (error) {
    console.error('โ ุฎุทุฃ ูู ุฌูุจ ุงููุณุชุฎุฏููู:', error);
  } finally {
    setIsLoadingUsers(false);
  }
};
```

#### ุจุนุฏ (20 ุณุทุฑ):
```typescript
const loadAllUsers = async () => {
  setIsLoadingUsers(true);
  try {
    console.log('๐ ุฌุงุฑู ุฌูุจ ุงููุณุชุฎุฏููู ูู API...');
    
    const response = await userService.getAllUsers({ per_page: 1000 });
    
    console.log('๐ก ุงุณุชุฌุงุจุฉ API:', response);
    
    if (response.success && response.data) {
      const users = response.data;
      console.log('๐ฅ ุนุฏุฏ ุงููุณุชุฎุฏููู:', users.length);
      setAllUsers(users);
    } else {
      console.error('โ ูุดู ูู ุฌูุจ ุงููุณุชุฎุฏููู');
      setAllUsers([]);
    }
  } catch (error) {
    console.error('โ ุฎุทุฃ ูู ุฌูุจ ุงููุณุชุฎุฏููู:', error);
    setAllUsers([]);
  } finally {
    setIsLoadingUsers(false);
  }
};
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### 1. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ:
```
Ctrl+Shift+R
```

### 2. ุงูุชุญ Console (F12)

### 3. ุงูุชุญ ุชุฐูุฑุฉ

### 4. ุงุถุบุท [+] ูุฅุถุงูุฉ ูุณุชุฎุฏู

### 5. ุฑุงูุจ Console:

#### ุงููุชููุน ุงูุขู โ:
```
๐ ุชู ูุชุญ Modal - ุฌูุจ ุงููุณุชุฎุฏููู...
๐ ุฌุงุฑู ุฌูุจ ุงููุณุชุฎุฏููู ูู API...
๐ก ุงุณุชุฌุงุจุฉ API: {success: true, data: Array(10), ...}
๐ฅ ุนุฏุฏ ุงููุณุชุฎุฏููู: 10
๐ฅ ุงููุณุชุฎุฏููู: [{...}, {...}, ...]
```

#### ูู ุชุฑู โ:
```
โ GET http://localhost:3004/api/users 401 (Unauthorized)
```

---

## ๐ฏ ุงููุชูุฌุฉ

### ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ุงูุขู ุชุนูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฅุถุงูุฉ ูุณุชุฎุฏู ููุณูุฏ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงููุณุชุฎุฏู:                           โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ุงุฎุชุฑ ูุณุชุฎุฏู              โผ     โ โ
โ โ โโ ูููู ุชุนุฏูู - ุถูู            โ โ โ ูุธูุฑ
โ โ โโ ููููู - ุถูู                 โ โ โ ูุธูุฑ
โ โ โโ ... (ุงููุฒูุฏ)                 โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                     โ
โ ุงูุฏูุฑ (ุงุฎุชูุงุฑู):                   โ
โ [ูุทูุฑ]                              โ
โ                                     โ
โ [ุฅุถุงูุฉ]  [ุฅูุบุงุก]                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูููุงุฑูุฉ

| ุงูุฌุงูุจ | ูุจู (fetch) | ุจุนุฏ (userService) |
|--------|-------------|-------------------|
| **ุงูููุฏ** | 45 ุณุทุฑ | 20 ุณุทุฑ |
| **Token** | ูุฏูู | ุชููุงุฆู โ |
| **Refresh** | ูุง ููุฌุฏ | ุชููุงุฆู โ |
| **ุงูุฃุฎุทุงุก** | 401 | ูุนูู โ |
| **ุงููุนุงูุฌุฉ** | ูุนูุฏุฉ | ุจุณูุทุฉ โ |

---

## ๐ ุงูุฎูุงุตุฉ

### ูุง ุชู ุฅุตูุงุญู:
- โ ุงุณุชุจุฏุงู `fetch` ุจู `userService`
- โ Token ููุฑุณู ุชููุงุฆูุงู
- โ ูุง ูุฒูุฏ ูู 401 Unauthorized
- โ ููุฏ ุฃูุธู ูุฃูุตุฑ
- โ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก

### ุงููุชูุฌุฉ:
**ุงููุณุชุฎุฏููู ูุธูุฑูู ุงูุขู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ! โจ**

---

**ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ ูุฌุฑุจ ุงูุขู! ๐**
