# ุฏููู ุฑุจุท ุงููุดุฑูุน ุงููุฑููุช ูุน ุงูุจุงู ุฅูุฏ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฑุจุท ุงููุดุฑูุน ุงูุฃูุงูู (React + TypeScript) ูุน ุงูุฎุงุฏู ุงูุฎููู (Node.js + Express) ุจูุฌุงุญ. ูุดูู ุงููุธุงู:

- **ุงููุตุงุฏูุฉ ุงููุงููุฉ**: ุชุณุฌูู ุงูุฏุฎููุ ุงูุฎุฑูุฌุ ุชุฌุฏูุฏ ุงูุชููู
- **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**: ุฅูุดุงุกุ ุชุนุฏููุ ุญุฐูุ ุงูุจุญุซ ูุงูุชุตููุฉ
- **ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช**: ูุธุงู ุดุงูู ููุชุญูู ูู ุงููุตูู
- **ุญูุงูุฉ ุงููุณุงุฑุงุช**: Route Guards ููุชุญูู ูู ุงูุตูุงุญูุงุช

## ๐ ุชุดุบูู ุงููุธุงู

### 1. ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู (Backend)

```bash
cd api
node server.js
```

ุงูุฎุงุฏู ุณูุนูู ุนูู: `http://localhost:3000`

### 2. ุชุดุบูู ุงููุดุฑูุน ุงูุฃูุงูู (Frontend)

```bash
npm run dev
```

ุงููุดุฑูุน ุณูุนูู ุนูู: `http://localhost:5174`

## ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู

### ๐ค ุงููุณุชุฎุฏู ุงูุฃุณุงุณู:
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: admin@pipefy.com
ูููุฉ ุงููุฑูุฑ: admin123
```

### ๐ค ุงููุณุชุฎุฏู ุงูุงุญุชูุงุทู:
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: backup@pipefy.com
ูููุฉ ุงููุฑูุฑ: admin123
```

> **ููุงุญุธุฉ**: ุฅุฐุง ุชู ุญุฐู ุงููุณุชุฎุฏููู ุจุงูุฎุทุฃุ ูููู ุฅุนุงุฏุฉ ุฅูุดุงุคูู ุจุชุดุบูู:
> ```bash
> cd api
> node scripts/create-super-admin.js
> ```

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ

### ุงููุตุงุฏูุฉ (Authentication)

- โ ุชุณุฌูู ุงูุฏุฎูู ูุน ุงูุชุญูู ูู ุงูุจูุงูุงุช
- โ ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุขูู
- โ ุชุฌุฏูุฏ ุงูุชููู ุงูุชููุงุฆู
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุชููู
- โ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- โ ุญูุธ ุญุงูุฉ "ุชุฐูุฑูู"

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (Users Management)

- โ ุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู ูุน ุงูุชุตูุญ
- โ ุงูุจุญุซ ูู ุงููุณุชุฎุฏููู
- โ ุงูุชุตููุฉ ุญุณุจ ุงูุฏูุฑ ูุงูุญุงูุฉ
- โ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- โ ุชุนุฏูู ุจูุงูุงุช ุงููุณุชุฎุฏู
- โ ุญุฐู ุงููุณุชุฎุฏู (Soft Delete)
- โ ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงููุณุชุฎุฏู

### ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ (Roles Management)

- โ ุนุฑุถ ุฌููุน ุงูุฃุฏูุงุฑ
- โ ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ
- โ ุชุนุฏูู ุงูุฃุฏูุงุฑ
- โ ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ุงูุฃุฏูุงุฑ
- โ ุญุฐู ุงูุฃุฏูุงุฑ (ุบูุฑ ุฃุฏูุงุฑ ุงููุธุงู)

### ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (Permissions Management)

- โ ุนุฑุถ ุฌููุน ุงูุตูุงุญูุงุช
- โ ุชุฌููุน ุงูุตูุงุญูุงุช ุญุณุจ ุงูููุฑุฏ
- โ ุฅูุดุงุก ุตูุงุญูุงุช ุฌุฏูุฏุฉ
- โ ููุญ ุตูุงุญูุงุช ุฅุถุงููุฉ ูููุณุชุฎุฏููู

## ๐ก๏ธ ูุธุงู ุงูุญูุงูุฉ

### Route Guards

```typescript
import { ProtectedRoute } from './components/auth';

// ุญูุงูุฉ ุจุงููุตุงุฏูุฉ ููุท
<ProtectedRoute>
  <UserDashboard />
</ProtectedRoute>

// ุญูุงูุฉ ุจุตูุงุญูุฉ ูุญุฏุฏุฉ
<ProtectedRoute requiredPermission="users.view">
  <UsersList />
</ProtectedRoute>

// ุญูุงูุฉ ุจุฏูุฑ ูุญุฏุฏ
<ProtectedRoute requiredRole="admin">
  <AdminPanel />
</ProtectedRoute>

// ุญูุงูุฉ ูููุฏูุฑูู ููุท
<ProtectedRoute requireAdmin={true}>
  <SystemSettings />
</ProtectedRoute>
```

### Permission Guards

```typescript
import { PermissionGuard } from './components/auth';

// ุฅุฎูุงุก/ุฅุธูุงุฑ ุนูุงุตุฑ ุญุณุจ ุงูุตูุงุญูุฉ
<PermissionGuard permission="users.manage">
  <button>ุฅูุดุงุก ูุณุชุฎุฏู</button>
</PermissionGuard>

// ูุน ุนูุตุฑ ุจุฏูู
<PermissionGuard 
  permission="users.delete" 
  fallback={<span>ุบูุฑ ูุตุฑุญ</span>}
  showFallback={true}
>
  <button>ุญุฐู</button>
</PermissionGuard>
```

## ๐ ูููู ุงููููุงุช

```
src/
โโโ lib/
โ   โโโ api.ts                 # ุฅุนุฏุงุฏ Axios ุงูุฃุณุงุณู
โโโ services/
โ   โโโ authService.ts         # ุฎุฏูุฉ ุงููุตุงุฏูุฉ
โ   โโโ userService.ts         # ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
โ   โโโ roleService.ts         # ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
โ   โโโ permissionService.ts   # ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
โ   โโโ index.ts              # ุชุตุฏูุฑ ุงูุฎุฏูุงุช
โโโ contexts/
โ   โโโ AuthContext.tsx       # ุณูุงู ุงููุตุงุฏูุฉ
โโโ components/
โ   โโโ auth/
โ   โ   โโโ Login.tsx         # ูููู ุชุณุฌูู ุงูุฏุฎูู
โ   โ   โโโ ProtectedRoute.tsx # ุญูุงูุฉ ุงููุณุงุฑุงุช
โ   โ   โโโ PermissionGuard.tsx # ุญูุงูุฉ ุงูุนูุงุตุฑ
โ   โโโ users/
โ       โโโ UserManagerNew.tsx # ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
```

## ๐ง ุฅุนุฏุงุฏ API

### Base Configuration

```typescript
// src/lib/api.ts
const API_BASE_URL = 'http://localhost:3000/api';

const apiClient = axios.create({
  baseURL: API_BASE_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  }
});
```

### Request Interceptor

```typescript
apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('auth_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});
```

### Response Interceptor

```typescript
apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('auth_token');
      window.location.href = '/login';
    }
    return Promise.reject(error.response?.data || error.message);
  }
);
```

## ๐ ูุชุงุฆุฌ ุงุฎุชุจุงุฑ ุงูุชูุงูู

```
๐ ุจุฏุก ุงุฎุชุจุงุฑ ุงูุชูุงูู ุงูุดุงูู...

โ ุชุณุฌูู ุงูุฏุฎูู - ูุฌุญ
โ ุงูุชุญูู ูู ุงูุชููู - ูุฌุญ  
โ ุฌูุจ ุงููุณุชุฎุฏููู - ูุฌุญ (3 ูุณุชุฎุฏููู)
โ ุฌูุจ ุงูุฃุฏูุงุฑ - ูุฌุญ (4 ุฃุฏูุงุฑ)
โ ุฌูุจ ุงูุตูุงุญูุงุช - ูุฌุญ (34 ุตูุงุญูุฉ)
โ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ - ูุฌุญ
โ ุชุญุฏูุซ ุงููุณุชุฎุฏู - ูุฌุญ
โ ุญุฐู ุงููุณุชุฎุฏู - ูุฌุญ
โ ุชุณุฌูู ุงูุฎุฑูุฌ - ูุฌุญ

๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ: 8/9 ูุฌุญ
```

## ๐ ุงููุตูู ูููุธุงู

1. **ุงููุงุฌูุฉ ุงูุฃูุงููุฉ**: http://localhost:5174
2. **API Documentation**: http://localhost:3000/api-docs
3. **API Base URL**: http://localhost:3000/api

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงู

ูุงุฎุชุจุงุฑ ุงูุชูุงูู ุจุดูู ุดุงูู:

```bash
node test-integration.cjs
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู**: ุฌููุน ุงููุณุงุฑุงุช ูุญููุฉ ุจุงูุชููู ูุงูุตูุงุญูุงุช
2. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ูุธุงู ุดุงูู ููุนุงูุฌุฉ ูุนุฑุถ ุงูุฃุฎุทุงุก
3. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**: ุฑุณุงุฆู ุชุญููู ููุฌุงุญ ูุฎุทุฃ ูุงุถุญุฉ
4. **ุงูุงุณุชุฌุงุจุฉ**: ูุงุฌูุฉ ูุชุฌุงูุจุฉ ุชุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
5. **ุงููุบุฉ ุงูุนุฑุจูุฉ**: ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูุน RTL

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุงุฎุชุจุงุฑุงุช
- [ ] ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- [ ] ุฅุถุงูุฉ ููุฒุงุช ุฅุถุงููุฉ ุญุณุจ ุงูุญุงุฌุฉ
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ูุงูุชุญููู
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชุญูู ูู ุงูุฃูุงู

---

**ุชู ุฅูุฌุงุฒ ุงูุฑุจุท ุจูุฌุงุญ! ๐**
