# ุชุญุฏูุซ ุงูุญููู ุงููุฎุตุตุฉ ูู ููุงุนุฏ ุงูุชูุฑุงุฑ

## ุงููุถุน ุงูุญุงูู

### โ ูุง ูุนูู ุงูุขู:
1. **ุชุญููู ุงูุจูุงูุงุช ุงููุฎุตุตุฉ**: ูุชู ุชุญููู `data` ูู API ุฅูู `ruleForm.template_data.data`
2. **ุนุฑุถ ุงูุญููู**: ุงูุญููู ุงููุฎุตุตุฉ ุชุธูุฑ ูู ุงููููุฐุฌ
3. **ุฅุฑุณุงู ุงูุจูุงูุงุช**: ูุชู ุฅุฑุณุงู `template_data` ูุงููุฉ (ุชุญุชูู ุนูู `data`)

### ๐ ูููู ุงูุจูุงูุงุช:

#### ูู API (GET):
```json
{
  "data": {
    "327e6fbb-a16d-4ab0-b4f8-757af1be1603": "ahmedcs202144@gmail.com",
    "36e8a7fd-8b3e-4af4-9fcf-5c9f81057715": "2",
    "6aa9d74e-781a-42c2-9220-f5d37a846a0a": ["ุงูุซุงูุซ", "ุงูุฑุงุจุน", "ุงูุงูู"],
    "ceaad912-1013-403e-a86b-a2ffca59074f": "ุชุฐูุฑุฉ ุงุฑูุฏ ุงู ุชููู ููุง ุงูุชุฌุฑุจุฉ 3333333333333 ูุต ุทููู"
  }
}
```

#### ูู ุงููููุฐุฌ:
```typescript
ruleForm = {
  name: "ุงุณู ุงููุงุนุฏุฉ",
  template_data: {
    title: "ุนููุงู ุงูุชุฐูุฑุฉ",
    description: "ูุตู",
    priority: "medium",
    data: {
      "327e6fbb-a16d-4ab0-b4f8-757af1be1603": "ahmedcs202144@gmail.com",
      "36e8a7fd-8b3e-4af4-9fcf-5c9f81057715": "2",
      // ... ุจุงูู ุงูุญููู ุงููุฎุตุตุฉ
    }
  }
}
```

#### ุฅูู API (PUT):
```json
{
  "name": "ุงุณู ุงููุงุนุฏุฉ",
  "template_data": {
    "title": "ุนููุงู ุงูุชุฐูุฑุฉ",
    "description": "ูุตู",
    "priority": "medium",
    "data": {
      "327e6fbb-a16d-4ab0-b4f8-757af1be1603": "ahmedcs202144@gmail.com",
      "36e8a7fd-8b3e-4af4-9fcf-5c9f81057715": "2",
      // ... ุงูุญููู ุงููุญุฏุซุฉ
    },
    "process_id": "process-uuid"
  }
}
```

## ูุณุงุฑ ุงูุจูุงูุงุช ุงููุฎุตุตุฉ

### 1. ุงูุชุญููู (Loading)
```typescript
// ูู loadRuleDataToForm
setRuleForm({
  template_data: {
    // ... ุญููู ุฃุฎุฑู
    data: ruleData.data || templateData.data || {} // โ ุชุญููู ุงูุจูุงูุงุช ุงููุฎุตุตุฉ
  }
});
```

### 2. ุงูุนุฑุถ (Display)
- ุงูุญููู ุงููุฎุตุตุฉ ุชุธูุฑ ูู ุงููููุฐุฌ ูู `ruleForm.template_data.data`
- ูู ุญูู ูู ูุนุฑู ูุฑูุฏ (UUID) ููููุฉ
- ุฃููุงุน ูุฎุชููุฉ: ูุตุ ุฑููุ ูุงุฆูุฉ ูุชุนุฏุฏุฉุ ุฅูุฎ

### 3. ุงูุชุญุฏูุซ (Update)
```typescript
// ูู handleUpdateRule
const ruleData = {
  template_data: {
    ...ruleForm.template_data, // โ ูุญุชูู ุนูู data ุงููุญุฏุซุฉ
    process_id: editingRule.process_id
  }
};
```

### 4. ุงูุฅุฑุณุงู (Send)
- ูุชู ุฅุฑุณุงู `template_data` ูุงููุฉ ุฅูู API
- `template_data.data` ูุญุชูู ุนูู ุฌููุน ุงูุญููู ุงููุฎุตุตุฉ ุงููุญุฏุซุฉ

## ุงูุชุดุฎูุต ูุงูุงุฎุชุจุงุฑ

### ุฑุณุงุฆู Console ููุชุชุจุน:

#### ุนูุฏ ุงูุชุญููู:
```javascript
console.log('Loading Rule Data to Form:', ruleData);
console.log('Form Updated with:', {
  // ... ุญููู ุฃุฎุฑู
  custom_data: ruleData.data // โ ุงูุจูุงูุงุช ุงููุฎุตุตุฉ
});
```

#### ุนูุฏ ุงูุฅุฑุณุงู:
```javascript
console.log('Sending Update Data:', ruleData);
console.log('Custom Fields in Update:', ruleForm.template_data.data); // โ ุงูุญููู ุงููุญุฏุซุฉ
```

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

1. **ุงูุชุญ ูุงุนุฏุฉ ููุชุนุฏูู**:
   - ุชุญูู ูู console: `custom_data` ูุญุชูู ุนูู ุงูุญููู
   - ุชุญูู ูู ุงููููุฐุฌ: ุงูุญููู ุชุธูุฑ ุจููููุง

2. **ุนุฏู ุงูุญููู ุงููุฎุตุตุฉ**:
   - ุบูุฑ ููู ุงูุญููู ูู ุงููููุฐุฌ
   - ุชุญูู ุฃู ุงูุชุบููุฑุงุช ุชูุนูุณ ูู `ruleForm.template_data.data`

3. **ุงุญูุธ ุงูุชุบููุฑุงุช**:
   - ุชุญูู ูู console: `Custom Fields in Update` ูุญุชูู ุนูู ุงูููู ุงูุฌุฏูุฏุฉ
   - ุชุญูู ูู `Sending Update Data`: `template_data.data` ูุญุฏุซุฉ

## ุงูุญููู ุงููุฎุตุตุฉ ุงููุฏุนููุฉ

### ุฃููุงุน ุงูุญููู:
1. **ูุต**: `"ahmedcs202144@gmail.com"`
2. **ุฑูู**: `"2"`
3. **ูุงุฆูุฉ ูุชุนุฏุฏุฉ**: `["ุงูุซุงูุซ", "ุงูุฑุงุจุน", "ุงูุงูู"]`
4. **ูุต ุทููู**: `"ุชุฐูุฑุฉ ุงุฑูุฏ ุงู ุชููู ููุง ุงูุชุฌุฑุจุฉ..."`

### ูุนุฑูุงุช ุงูุญููู:
- ูู ุญูู ูู UUID ูุฑูุฏ
- ุงูููู ุชูุญูุธ ููุง ูู (ูุตุ ุฑููุ ูุตูููุฉ)
- ุงููุธุงู ูุญุงูุธ ุนูู ููุน ุงูุจูุงูุงุช

## API Endpoints

### ุฌูุจ ุชูุงุตูู ุงููุงุนุฏุฉ:
```bash
GET /api/recurring/rules/{id}
```
**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "success": true,
  "data": {
    "id": "rule-uuid",
    "name": "ุงุณู ุงููุงุนุฏุฉ",
    "data": {
      "field-uuid-1": "ูููุฉ 1",
      "field-uuid-2": ["ูููุฉ ุฃ", "ูููุฉ ุจ"]
    }
  }
}
```

### ุชุญุฏูุซ ุงููุงุนุฏุฉ:
```bash
PUT /api/recurring/rules/{id}
```
**ุงูุจูุงูุงุช ุงููุฑุณูุฉ**:
```json
{
  "name": "ุงุณู ูุญุฏุซ",
  "template_data": {
    "title": "ุนููุงู ูุญุฏุซ",
    "data": {
      "field-uuid-1": "ูููุฉ ูุญุฏุซุฉ",
      "field-uuid-2": ["ูููุฉ ุฌุฏูุฏุฉ"]
    }
  }
}
```

## ุงูููุฏ ุงููุทุจู

### ุชุญููู ุงูุจูุงูุงุช ุงููุฎุตุตุฉ:
```typescript
// ูู loadRuleDataToForm (ุงูุณุทุฑ 270)
template_data: {
  // ... ุญููู ุฃุฎุฑู
  data: ruleData.data || templateData.data || {} // โ ุชุญููู ุงูุจูุงูุงุช ุงููุฎุตุตุฉ
}
```

### ุฅุฑุณุงู ุงูุจูุงูุงุช ุงููุญุฏุซุฉ:
```typescript
// ูู handleUpdateRule (ุงูุณุทุฑ 552-555)
template_data: {
  ...ruleForm.template_data, // โ ูุญุชูู ุนูู data ุงููุญุฏุซุฉ
  process_id: editingRule.process_id
}
```

### ุฑุณุงุฆู ุงูุชุดุฎูุต:
```typescript
// ุงูุณุทุฑ 292
custom_data: ruleData.data // โ ุนุฑุถ ุงูุจูุงูุงุช ุงููุฎุตุตุฉ

// ุงูุณุทุฑ 561
console.log('Custom Fields in Update:', ruleForm.template_data.data); // โ ุงูุญููู ุงููุญุฏุซุฉ
```

## ุงููุชูุฌุฉ ุงููุชููุนุฉ

### โ ุนูุฏ ุงูุชุญููู:
```javascript
Form Updated with: {
  name: "ุงุณู ุงููุงุนุฏุฉ",
  custom_data: {
    "327e6fbb-a16d-4ab0-b4f8-757af1be1603": "ahmedcs202144@gmail.com",
    "36e8a7fd-8b3e-4af4-9fcf-5c9f81057715": "2",
    "6aa9d74e-781a-42c2-9220-f5d37a846a0a": ["ุงูุซุงูุซ", "ุงูุฑุงุจุน", "ุงูุงูู"]
  }
}
```

### โ ุนูุฏ ุงูุฅุฑุณุงู:
```javascript
Custom Fields in Update: {
  "327e6fbb-a16d-4ab0-b4f8-757af1be1603": "ahmedcs202144@gmail.com", // ูุญุฏุซ
  "36e8a7fd-8b3e-4af4-9fcf-5c9f81057715": "5", // ูููุฉ ุฌุฏูุฏุฉ
  "6aa9d74e-781a-42c2-9220-f5d37a846a0a": ["ุงูุฃูู", "ุงูุซุงูู"] // ูุงุฆูุฉ ูุญุฏุซุฉ
}
```

## ุงูุญุงูุฉ

โ **ุงููุธุงู ูุนูู ุจุดูู ุตุญูุญ**:
- ุงูุจูุงูุงุช ุงููุฎุตุตุฉ ุชุญูู ูู API
- ุชุธูุฑ ูู ุงููููุฐุฌ ููุชุนุฏูู
- ูุชู ุฅุฑุณุงููุง ุนูุฏ ุงูุญูุธ
- API ูุณุชูุจููุง ููุญุฏุซูุง

**ููุชุฃูุฏ**: ุชุญูู ูู ุฑุณุงุฆู console ุนูุฏ ุงูุชุญููู ูุงูุฅุฑุณุงู ููุชุงุจุนุฉ ูุณุงุฑ ุงูุจูุงูุงุช ุงููุฎุตุตุฉ.
