# ๐งช ุฏููู ุงุฎุชุจุงุฑ Notification Endpoints

## โ ุชู ุฅุตูุงุญ ุงููุดููุฉ

**ุงููุดููุฉ:** ูุงู `NotificationController.js` ูุณุชุฎุฏู `pool.query` ุจุฏูู ุงุณุชูุฑุงุฏ `pool`

**ุงูุญู:** ุชู ุฅุถุงูุฉ ุงูุณุทุฑ ุงูุชุงูู ูู ุจุฏุงูุฉ ุงูููู:
```javascript
const pool = require('../config/database');
```

---

## ๐ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### 1๏ธโฃ ุชุดุบูู ุงูุณูุฑูุฑ

ูู terminal ุฌุฏูุฏ:
```bash
cd "e:\laravel\xampp old\htdocs\laravel\pipefy-main\project\api"
npm run dev
```

**ุชุฃูุฏ ูู:**
- โ ุงูุณูุฑูุฑ ูุนูู ุนูู `http://localhost:3000`
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู console
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ

---

### 2๏ธโฃ ุงุฎุชุจุงุฑ ุจุณูุท (ููุตู ุจู ููุจุฏุงูุฉ)

ูู terminal ุขุฎุฑ:
```bash
node simple-notification-test.js
```

**ูุฐุง ุงูุงุฎุชุจุงุฑ:**
- โ ูุณุฌู ุงูุฏุฎูู ุชููุงุฆูุงู
- โ ูุฎุชุจุฑ 5 endpoints ุฃุณุงุณูุฉ
- โ ุณุฑูุน ูุจุณูุท (ุฃูู ูู 5 ุซูุงูู)

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
๐งช ุงุฎุชุจุงุฑ ุจุณูุท ููุฅุดุนุงุฑุงุช

1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู...
   โ ูุฌุญ ุชุณุฌูู ุงูุฏุฎูู

2๏ธโฃ ุฌูุจ ุฌููุน ุงูุฅุดุนุงุฑุงุช...
   โ ุชู ุฌูุจ X ุฅุดุนุงุฑุงุช

3๏ธโฃ ุฌูุจ ุฅุดุนุงุฑ ูุงุญุฏ...
   โ ุงูุฅุดุนุงุฑ: [ุนููุงู ุงูุฅุดุนุงุฑ]

4๏ธโฃ ุฌูุจ ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู...
   โ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช: X
   ๐ฌ ุบูุฑ ููุฑูุกุฉ: X

5๏ธโฃ ุฌูุจ ุงูุฅุดุนุงุฑุงุช ูุน ุงููุณุชุฎุฏููู...
   โ ุชู ุฌูุจ X ุฅุดุนุงุฑุงุช

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3๏ธโฃ ุงุฎุชุจุงุฑ ุดุงูู (13 endpoint)

ุจุนุฏ ูุฌุงุญ ุงูุงุฎุชุจุงุฑ ุงูุจุณูุท:
```bash
node test-all-notification-endpoints.js
```

**ูุฐุง ุงูุงุฎุชุจุงุฑ ูุบุทู:**
1. โ GET `/api/notifications/all` - ุฌูุจ ุฌููุน ุงูุฅุดุนุงุฑุงุช
2. โ GET `/api/notifications/all?is_read=false` - ููุชุฑ ุบูุฑ ุงูููุฑูุกุฉ
3. โ GET `/api/notifications/:id` - ุฌูุจ ุฅุดุนุงุฑ ุจุงูู ID
4. โ GET `/api/notifications/user/:user_id` - ุฌูุจ ุฅุดุนุงุฑุงุช ูุณุชุฎุฏู
5. โ GET `/api/notifications/with-users` - ุงูุฅุดุนุงุฑุงุช ูุน ุงููุณุชุฎุฏููู
6. โ GET `/api/notifications` - ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
7. โ GET `/api/notifications/unread-count` - ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ
8. โ POST `/api/notifications` - ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ
9. โ PATCH `/api/notifications/:id/read` - ุชุญุฏูุฏ ูููุฑูุก
10. โ POST `/api/notifications/bulk` - ุฅุฑุณุงู ูุนุฏุฉ ูุณุชุฎุฏููู
11. โ PATCH `/api/notifications/mark-all-read` - ุชุญุฏูุฏ ุงููู ูููุฑูุก
12. โ DELETE `/api/notifications/:id` - ุญุฐู ุฅุดุนุงุฑ
13. โ DELETE `/api/notifications/delete-read` - ุญุฐู ุงูููุฑูุกุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ูุฌุญ: 13/13
โ ูุดู: 0/13
๐ ูุณุจุฉ ุงููุฌุงุญ: 100.00%
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ุชูุงูููุง! ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: `pool.query is not a function`
**ุงูุญู:** โ ุชู ุฅุตูุงุญู! ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ

### ุฎุทุฃ: `ECONNREFUSED`
**ุงูุณุจุจ:** ุงูุณูุฑูุฑ ุบูุฑ ูุดุบู  
**ุงูุญู:** ุดุบูู ุงูุณูุฑูุฑ ุจู `npm run dev`

### ุฎุทุฃ: `401 Unauthorized`
**ุงูุณุจุจ:** ูุดููุฉ ูู ุงูุชููู  
**ุงูุญู:** ุชุฃูุฏ ูู ูุฌูุฏ ูุณุชุฎุฏู admin ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฎุทุฃ: `404 Not Found`
**ุงูุณุจุจ:** ุงูู endpoint ุบูุฑ ููุฌูุฏ  
**ุงูุญู:** ุชุฃูุฏ ูู ุชุญุฏูุซ ููู `routes/notifications.js`

### ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช
**ุงูุญู:** ุงูุงุฎุชุจุงุฑ ุงูุดุงูู ุณููุดุฆ ุฅุดุนุงุฑุงุช ุชููุงุฆูุงู

---

## ๐ ุงูู Endpoints ุงููุชุงุญุฉ

### ูููุฑุงุกุฉ (GET):
| Endpoint | ุงููุตู |
|----------|-------|
| `GET /api/notifications/all` | ุฌููุน ุงูุฅุดุนุงุฑุงุช ูุน ุจูุงูุงุช ุงููุณุชุฎุฏููู |
| `GET /api/notifications/:id` | ุฅุดุนุงุฑ ูุงุญุฏ ุจุงูู ID |
| `GET /api/notifications/user/:user_id` | ุฅุดุนุงุฑุงุช ูุณุชุฎุฏู ูุนูู |
| `GET /api/notifications/with-users` | ุงูุฅุดุนุงุฑุงุช ูุน ุงููุณุชุฎุฏููู ุงููุนูููู |
| `GET /api/notifications` | ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู ุงูุญุงูู |
| `GET /api/notifications/unread-count` | ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ |

### ูููุชุงุจุฉ (POST/PATCH/DELETE):
| Endpoint | ุงููุตู |
|----------|-------|
| `POST /api/notifications` | ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ |
| `POST /api/notifications/bulk` | ุฅุฑุณุงู ูุนุฏุฉ ูุณุชุฎุฏููู |
| `PATCH /api/notifications/:id/read` | ุชุญุฏูุฏ ูููุฑูุก |
| `PATCH /api/notifications/mark-all-read` | ุชุญุฏูุฏ ุงููู ูููุฑูุก |
| `DELETE /api/notifications/:id` | ุญุฐู ุฅุดุนุงุฑ |
| `DELETE /api/notifications/delete-read` | ุญุฐู ุงูููุฑูุกุฉ |

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุจุนุฏ ูุฌุงุญ ุงูุงุฎุชุจุงุฑุงุช:

1. **ูุฑุงุฌุนุฉ Swagger UI:**
   ```
   http://localhost:3000/api-docs
   ```

2. **ุงุฎุชุจุงุฑ ูุฏูู:**
   - ุงุณุชุฎุฏู Postman ุฃู Insomnia
   - ุฌุฑูุจ ุงูููุงุชุฑ ุงููุฎุชููุฉ
   - ุงุฎุชุจุฑ ุญุงูุงุช ุงูุฎุทุฃ

3. **ุงูุชูุงูู ูุน Frontend:**
   - ุงุณุชุฎุฏู ุงูุฃูุซูุฉ ูู `NOTIFICATION_ENDPOINTS_DOCUMENTATION.md`
   - ุฑุงุฌุน `NOTIFICATION_ENDPOINTS_README.md`

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุตุงุฏูุฉ:** ุฌููุน ุงูู endpoints ุชุชุทูุจ JWT Token
2. **ุงูููุงุชุฑ:** ุงุณุชุฎุฏู ุงูููุงุชุฑ ูุชุญุณูู ุงูุฃุฏุงุก
3. **Pagination:** ุงุณุชุฎุฏู `limit` ู `offset` ููุตูุญุงุช ุงููุจูุฑุฉ
4. **ุงูุชูุงุฑูุฎ:** ุจุตูุบุฉ ISO 8601
5. **ุงูุชุฑุชูุจ:** ุงูุงูุชุฑุงุถู ูู ุงูุฃุญุฏุซ ุฅูู ุงูุฃูุฏู

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ูุจู ุงูุงุฎุชุจุงุฑ:
- [ ] ุงูุณูุฑูุฑ ูุนูู
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ
- [ ] ููุฌุฏ ูุณุชุฎุฏู admin

ุฃุซูุงุก ุงูุงุฎุชุจุงุฑ:
- [ ] ุงูุงุฎุชุจุงุฑ ุงูุจุณูุท ูุฌุญ
- [ ] ุงูุงุฎุชุจุงุฑ ุงูุดุงูู ูุฌุญ
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู console

ุจุนุฏ ุงูุงุฎุชุจุงุฑ:
- [ ] ูุฑุงุฌุนุฉ Swagger UI
- [ ] ุงุฎุชุจุงุฑ ูุฏูู
- [ ] ุงูุชูุงูู ูุน Frontend

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุญูู ูู console ุงูุณูุฑูุฑ
2. ุฑุงุฌุน ููู `NOTIFICATION_ENDPOINTS_DOCUMENTATION.md`
3. ุชุฃูุฏ ูู ุชุญุฏูุซ ุฌููุน ุงููููุงุช
4. ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ

---

**ุชู ุงูุฅูุดุงุก:** 2025-10-10  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
