# ูุธุงู ุงูุตูุงุญูุงุช ุงููุงูู - Pipefy

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ุฌููุน ุงูุตูุงุญูุงุช ุงูููููุฏุฉ ูู ุงููุธุงู ุงููุฏูู (34 ุตูุงุญูุฉ) ุฅูู ุงููุธุงู ุงูุฌุฏูุฏ ุจูุฌุงุญ.

## โ ุงูุฅูุฌุงุฒุงุช

### 1. ุงูุตูุงุญูุงุช ุงููุถุงูุฉ

ุชู ุฅุถุงูุฉ **18 ุตูุงุญูุฉ ุฌุฏูุฏุฉ** ุฅูู ุงููุธุงูุ ููุตุจุญ ุงูุฅุฌูุงูู **34 ุตูุงุญูุฉ** ููุง ูู ุงููุธุงู ุงููุฏูู.

#### ุตูุงุญูุงุช Fields (ุงูุญููู) - 4 ุตูุงุญูุงุช
- โ `fields.create` - ุฅูุดุงุก ุงูุญููู
- โ `fields.delete` - ุญุฐู ุงูุญููู
- โ `fields.read` - ุนุฑุถ ุงูุญููู
- โ `fields.update` - ุชุนุฏูู ุงูุญููู

#### ุตูุงุญูุงุช Processes (ุงูุนูููุงุช) - 4 ุตูุงุญูุงุช ุฅุถุงููุฉ
- โ `processes.create` - ุฅูุดุงุก ุงูุนูููุงุช
- โ `processes.delete` - ุญุฐู ุงูุนูููุงุช
- โ `processes.read` - ุนุฑุถ ุชูุงุตูู ุงูุนูููุงุช
- โ `processes.update` - ุชุนุฏูู ุงูุนูููุงุช
- โ `processes.manage` - ุฅุฏุงุฑุฉ ุงูุนูููุงุช (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `processes.view` - ุนุฑุถ ุงูุนูููุงุช (ููุฌูุฏุฉ ูุณุจูุงู)

#### ุตูุงุญูุงุช Stages (ุงููุฑุงุญู) - 4 ุตูุงุญูุงุช
- โ `stages.create` - ุฅูุดุงุก ุงููุฑุงุญู
- โ `stages.delete` - ุญุฐู ุงููุฑุงุญู
- โ `stages.read` - ุนุฑุถ ุงููุฑุงุญู
- โ `stages.update` - ุชุนุฏูู ุงููุฑุงุญู

#### ุตูุงุญูุงุช Tickets (ุงูุชุฐุงูุฑ) - 3 ุตูุงุญูุงุช ุฅุถุงููุฉ
- โ `tickets.create` - ุฅูุดุงุก ุงูุชุฐุงูุฑ (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `tickets.edit` - ุชุนุฏูู ุงูุชุฐุงูุฑ (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `tickets.delete` - ุญุฐู ุงูุชุฐุงูุฑ (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `tickets.manage` - ุฅุฏุงุฑุฉ ุงูุชุฐุงูุฑ
- โ `tickets.read` - ุนุฑุถ ุงูุชุฐุงูุฑ
- โ `tickets.update` - ุชุญุฏูุซ ุงูุชุฐุงูุฑ
- โ `tickets.view_all` - ุนุฑุถ ุฌููุน ุงูุชุฐุงูุฑ (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `tickets.view_own` - ุนุฑุถ ุงูุชุฐุงูุฑ ุงูุฎุงุตุฉ (ููุฌูุฏุฉ ูุณุจูุงู)

#### ุตูุงุญูุงุช Users (ุงููุณุชุฎุฏููู) - 3 ุตูุงุญูุงุช ุฅุถุงููุฉ
- โ `users.create` - ุฅูุดุงุก ุงููุณุชุฎุฏููู
- โ `users.delete` - ุญุฐู ุงููุณุชุฎุฏููู
- โ `users.edit` - ุชุนุฏูู ุงููุณุชุฎุฏููู
- โ `users.manage` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `users.view` - ุนุฑุถ ุงููุณุชุฎุฏููู (ููุฌูุฏุฉ ูุณุจูุงู)

#### ุตูุงุญูุงุช ุฃุฎุฑู (ููุฌูุฏุฉ ูุณุจูุงู)
- โ `reports.view` - ุนุฑุถ ุงูุชูุงุฑูุฑ
- โ `system.settings` - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ `automation.manage` - ุฅุฏุงุฑุฉ ุงูุฃุชูุชุฉ
- โ `integrations.manage` - ุฅุฏุงุฑุฉ ุงูุชูุงููุงุช
- โ `roles.manage` - ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- โ `roles.view` - ุนุฑุถ ุงูุฃุฏูุงุฑ
- โ `permissions.manage` - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช

### 2. ุงููููุงุช ุงูููุดุฃุฉ

#### Migration Files
- โ `migrations/009_add_missing_permissions.sql` - Migration ูุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุงูููููุฏุฉ

#### Scripts
- โ `scripts/add-all-permissions.js` - ุณูุฑูุจุช ุฅุถุงูุฉ ุฌููุน ุงูุตูุงุญูุงุช ูุฑุจุทูุง ุจุฏูุฑ Admin
- โ `scripts/check-user-permissions.js` - ุณูุฑูุจุช ูุญุต ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
- โ `scripts/verify-permissions.js` - ุณูุฑูุจุช ุงูุชุญูู ุงูุณุฑูุน ูู ุงูุตูุงุญูุงุช

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ููุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ

ุฅุฐุง ููุช ุชููู ุจุชูุตูุจ ุงููุธุงู ูู ุงูุตูุฑ:

```bash
# ุชุดุบูู ุฌููุน ุงูู migrations (ุจูุง ูููุง ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ)
npm run migrate
```

### 2. ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ููุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ

ุฅุฐุง ูุงู ูุฏูู ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ ูุชุฑูุฏ ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุงูููููุฏุฉ:

```bash
# ุชุดุบูู ุณูุฑูุจุช ุฅุถุงูุฉ ุงูุตูุงุญูุงุช
node scripts/add-all-permissions.js
```

ูุฐุง ุงูุณูุฑูุจุช ุณูููู ุจู:
- โ ุฅุถุงูุฉ ุฌููุน ุงูุตูุงุญูุงุช ุงูููููุฏุฉ
- โ ุฑุจุท ุฌููุน ุงูุตูุงุญูุงุช ุจุฏูุฑ Admin ุชููุงุฆูุงู
- โ ุนุฑุถ ุชูุฑูุฑ ููุตู ุนู ุงูุนูููุฉ

### 3. ูุญุต ุงูุตูุงุญูุงุช ุงูุญุงููุฉ

ููุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ:

```bash
# ูุญุต ุชูุตููู
node scripts/check-user-permissions.js

# ูุญุต ุณุฑูุน
node scripts/verify-permissions.js
```

## ๐ ุฅุญุตุงุฆูุงุช ุงููุธุงู

### ูุจู ุงูุชุญุฏูุซ
- ุงูุตูุงุญูุงุช: **16 ุตูุงุญูุฉ**
- ุตูุงุญูุงุช Admin: **16 ุตูุงุญูุฉ**

### ุจุนุฏ ุงูุชุญุฏูุซ
- ุงูุตูุงุญูุงุช: **34 ุตูุงุญูุฉ** โ
- ุตูุงุญูุงุช Admin: **34 ุตูุงุญูุฉ** โ

## ๐ฏ ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### ุฏูุฑ Admin (ุงููุฏูุฑ)
- ูุญุตู ุชููุงุฆูุงู ุนูู **ุฌููุน ุงูุตูุงุญูุงุช** (34 ุตูุงุญูุฉ)
- ูุชู ุชุญุฏูุซ ุตูุงุญูุงุชู ุชููุงุฆูุงู ุนูุฏ ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ

### ุฏูุฑ Member (ุงูุนุถู)
- ุตูุงุญูุงุช ูุญุฏูุฏุฉ ููุชุฐุงูุฑ ูุงูุนูููุงุช
- ูููู ุชุฎุตูุต ุงูุตูุงุญูุงุช ุญุณุจ ุงูุญุงุฌุฉ

### ุฏูุฑ Guest (ุงูุถูู)
- ุตูุงุญูุงุช ุนุฑุถ ููุท
- ูุง ููููู ุงูุชุนุฏูู ุฃู ุงูุญุฐู

## ๐ง ุงูุชุฎุตูุต

### ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ

ูุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉุ ูู ุจุชุนุฏูู ููู `migrations/002_seed_basic_data.sql` ุฃู ุฃูุดุฆ migration ุฌุฏูุฏ:

```sql
INSERT INTO permissions (name, resource, action, description) VALUES
  ('ุงุณู ุงูุตูุงุญูุฉ', 'resource_name', 'action_name', 'ุงููุตู')
ON CONFLICT (resource, action) DO NOTHING;
```

### ุฑุจุท ุตูุงุญูุงุช ุจุฏูุฑ ูุนูู

```sql
INSERT INTO role_permissions (role_id, permission_id)
SELECT 
  r.id,
  p.id
FROM roles r
CROSS JOIN permissions p
WHERE r.name = 'role_name' AND p.resource = 'resource_name'
ON CONFLICT (role_id, permission_id) DO NOTHING;
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฑุจุท ุงูุชููุงุฆู**: ุฏูุฑ Admin ูุญุตู ุชููุงุฆูุงู ุนูู ุฌููุน ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
2. **ุนุฏู ุงูุชูุฑุงุฑ**: ุงููุธุงู ูููุน ุชูุฑุงุฑ ุงูุตูุงุญูุงุช ุจุงุณุชุฎุฏุงู `ON CONFLICT`
3. **ุงูุชูุงูู**: ุฌููุน ุงูุตูุงุญูุงุช ูุชูุงููุฉ ูุน ุงููุธุงู ุงููุฏูู
4. **ุงูุฃูุงู**: ุงูุตูุงุญูุงุช ูุญููุฉ ุจูููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ุงูุชุญูู ูู ุงููุธุงู

ููุชุฃูุฏ ูู ุฃู ุงููุธุงู ูุนูู ุจุดูู ุตุญูุญ:

```bash
# 1. ูุญุต ุนุฏุฏ ุงูุตูุงุญูุงุช
node scripts/verify-permissions.js

# 2. ูุญุต ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
node scripts/check-user-permissions.js

# 3. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
curl -X POST http://localhost:3003/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@pipefy.com","password":"admin123"}'
```

## โจ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ:
- โ ุฅุถุงูุฉ ุฌููุน ุงูุตูุงุญูุงุช ุงูููููุฏุฉ (18 ุตูุงุญูุฉ ุฌุฏูุฏุฉ)
- โ ุงููุตูู ุฅูู 34 ุตูุงุญูุฉ ููุง ูู ุงููุธุงู ุงููุฏูู
- โ ุฑุจุท ุฌููุน ุงูุตูุงุญูุงุช ุจุฏูุฑ Admin ุชููุงุฆูุงู
- โ ุฅูุดุงุก ุณูุฑูุจุชุงุช ููุฅุฏุงุฑุฉ ูุงูุชุญูู
- โ ุชูุซูู ุดุงูู ูููุธุงู

ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ูุธุงู ุตูุงุญูุงุช ูุงูู ููุชุทูุฑ! ๐
