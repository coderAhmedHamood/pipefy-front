# โ ุชุญุฏูุซ Migration - ุงูุตูุงุญูุงุช ุงููุงููุฉ (34)

## ๐ฏ ุงูุชุญุฏูุซ ุงููุทุจู

ุชู ุชุญุฏูุซ ููู `migrations/002_seed_basic_data.sql` ููุญุชูู ุนูู **ุฌููุน ุงูุตูุงุญูุงุช ุงูู 34** ุจุดูู ุงูุชุฑุงุถู.

---

## ๐ ูุจู ูุจุนุฏ ุงูุชุญุฏูุซ

### โ ูุจู ุงูุชุญุฏูุซ
- ุงูุตูุงุญูุงุช ูู Migration: **16 ุตูุงุญูุฉ ููุท**
- ุงูุตูุงุญูุงุช ุงูููููุฏุฉ: **18 ุตูุงุญูุฉ**
- ุงูุญุงุฌุฉ ูุชุดุบูู ุณูุฑูุจุช ุฅุถุงูู: `add-all-permissions.js`

### โ ุจุนุฏ ุงูุชุญุฏูุซ
- ุงูุตูุงุญูุงุช ูู Migration: **34 ุตูุงุญูุฉ ูุงููุฉ**
- ุงูุตูุงุญูุงุช ุงูููููุฏุฉ: **0 ุตูุงุญูุฉ**
- ูุง ุญุงุฌุฉ ูุณูุฑูุจุชุงุช ุฅุถุงููุฉ

---

## ๐ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### ุงูููู ุงููุญุฏุซ
- โ `migrations/002_seed_basic_data.sql`

### ุงููููุงุช ุงููุญุฐููุฉ
- โ `migrations/009_add_missing_permissions.sql` (ูู ูุนุฏ ุถุฑูุฑูุงู)

---

## ๐ ุงูุตูุงุญูุงุช ุงููุงููุฉ (34)

### 1. Fields (ุงูุญููู) - 4 ุตูุงุญูุงุช
```sql
('ุฅูุดุงุก ุงูุญููู', 'fields', 'create', 'ุฅูุดุงุก ุญููู ุฌุฏูุฏุฉ'),
('ุญุฐู ุงูุญููู', 'fields', 'delete', 'ุญุฐู ุงูุญููู'),
('ุนุฑุถ ุงูุญููู', 'fields', 'read', 'ุนุฑุถ ุงูุญููู'),
('ุชุนุฏูู ุงูุญููู', 'fields', 'update', 'ุชุนุฏูู ุงูุญููู ุงูููุฌูุฏุฉ'),
```

### 2. Processes (ุงูุนูููุงุช) - 6 ุตูุงุญูุงุช
```sql
('ุฅูุดุงุก ุงูุนูููุงุช', 'processes', 'create', 'ุฅูุดุงุก ุนูููุงุช ุฌุฏูุฏุฉ'),
('ุญุฐู ุงูุนูููุงุช', 'processes', 'delete', 'ุญุฐู ุงูุนูููุงุช'),
('ุนุฑุถ ุชูุงุตูู ุงูุนูููุงุช', 'processes', 'read', 'ุนุฑุถ ุชูุงุตูู ุงูุนูููุงุช'),
('ุชุนุฏูู ุงูุนูููุงุช', 'processes', 'update', 'ุชุนุฏูู ุงูุนูููุงุช ุงูููุฌูุฏุฉ'),
('ุฅุฏุงุฑุฉ ุงูุนูููุงุช', 'processes', 'manage', 'ุฅุฏุงุฑุฉ ูุงููุฉ ููุนูููุงุช'),
('ุนุฑุถ ุงูุนูููุงุช', 'processes', 'view', 'ุนุฑุถ ูุงุฆูุฉ ุงูุนูููุงุช'),
```

### 3. Stages (ุงููุฑุงุญู) - 4 ุตูุงุญูุงุช
```sql
('ุฅูุดุงุก ุงููุฑุงุญู', 'stages', 'create', 'ุฅูุดุงุก ูุฑุงุญู ุฌุฏูุฏุฉ'),
('ุญุฐู ุงููุฑุงุญู', 'stages', 'delete', 'ุญุฐู ุงููุฑุงุญู'),
('ุนุฑุถ ุงููุฑุงุญู', 'stages', 'read', 'ุนุฑุถ ุงููุฑุงุญู'),
('ุชุนุฏูู ุงููุฑุงุญู', 'stages', 'update', 'ุชุนุฏูู ุงููุฑุงุญู ุงูููุฌูุฏุฉ'),
```

### 4. Tickets (ุงูุชุฐุงูุฑ) - 8 ุตูุงุญูุงุช
```sql
('ุฅูุดุงุก ุงูุชุฐุงูุฑ', 'tickets', 'create', 'ุฅูุดุงุก ุชุฐุงูุฑ ุฌุฏูุฏุฉ'),
('ุญุฐู ุงูุชุฐุงูุฑ', 'tickets', 'delete', 'ุญุฐู ุงูุชุฐุงูุฑ'),
('ุชุนุฏูู ุงูุชุฐุงูุฑ', 'tickets', 'edit', 'ุชุนุฏูู ุงูุชุฐุงูุฑ ุงูููุฌูุฏุฉ'),
('ุฅุฏุงุฑุฉ ุงูุชุฐุงูุฑ', 'tickets', 'manage', 'ุฅุฏุงุฑุฉ ูุงููุฉ ููุชุฐุงูุฑ'),
('ุนุฑุถ ุงูุชุฐุงูุฑ', 'tickets', 'read', 'ุนุฑุถ ุงูุชุฐุงูุฑ'),
('ุชุญุฏูุซ ุงูุชุฐุงูุฑ', 'tickets', 'update', 'ุชุญุฏูุซ ุงูุชุฐุงูุฑ ุงูููุฌูุฏุฉ'),
('ุนุฑุถ ุฌููุน ุงูุชุฐุงูุฑ', 'tickets', 'view_all', 'ุนุฑุถ ุฌููุน ุงูุชุฐุงูุฑ ูู ุงููุธุงู'),
('ุนุฑุถ ุงูุชุฐุงูุฑ ุงูุฎุงุตุฉ', 'tickets', 'view_own', 'ุนุฑุถ ุงูุชุฐุงูุฑ ุงูุฎุงุตุฉ ุจุงููุณุชุฎุฏู ููุท'),
```

### 5. Users (ุงููุณุชุฎุฏููู) - 5 ุตูุงุญูุงุช
```sql
('ุฅูุดุงุก ุงููุณุชุฎุฏููู', 'users', 'create', 'ุฅูุดุงุก ูุณุชุฎุฏููู ุฌุฏุฏ'),
('ุญุฐู ุงููุณุชุฎุฏููู', 'users', 'delete', 'ุญุฐู ุงููุณุชุฎุฏููู'),
('ุชุนุฏูู ุงููุณุชุฎุฏููู', 'users', 'edit', 'ุชุนุฏูู ุจูุงูุงุช ุงููุณุชุฎุฏููู'),
('ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู', 'users', 'manage', 'ุฅุฏุงุฑุฉ ูุงููุฉ ูููุณุชุฎุฏููู'),
('ุนุฑุถ ุงููุณุชุฎุฏููู', 'users', 'view', 'ุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู'),
```

### 6. ุตูุงุญูุงุช ุฃุฎุฑู - 7 ุตูุงุญูุงุช
```sql
-- Reports (1)
('ุนุฑุถ ุงูุชูุงุฑูุฑ', 'reports', 'view', 'ุงููุตูู ููุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช'),

-- System (1)
('ุฅุนุฏุงุฏุงุช ุงููุธุงู', 'system', 'settings', 'ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงููุธุงู'),

-- Automation (1)
('ุฅุฏุงุฑุฉ ุงูุฃุชูุชุฉ', 'automation', 'manage', 'ุฅูุดุงุก ูุชุนุฏูู ููุงุนุฏ ุงูุฃุชูุชุฉ'),

-- Integrations (1)
('ุฅุฏุงุฑุฉ ุงูุชูุงููุงุช', 'integrations', 'manage', 'ุฅุฏุงุฑุฉ ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ'),

-- Roles (2)
('ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ', 'roles', 'manage', 'ุฅูุดุงุก ูุชุนุฏูู ุงูุฃุฏูุงุฑ'),
('ุนุฑุถ ุงูุฃุฏูุงุฑ', 'roles', 'view', 'ุนุฑุถ ูุงุฆูุฉ ุงูุฃุฏูุงุฑ'),

-- Permissions (1)
('ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช', 'permissions', 'manage', 'ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช')
```

---

## ๐ ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ

ุงูุขู ุนูุฏ ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ:

```bash
# 1. ุชุดุบูู ุงูู migrations
npm run migrate

# โ ุณูุชู ุฅูุดุงุก 34 ุตูุงุญูุฉ ุชููุงุฆูุงู!

# 2. ุฅูุดุงุก ูุณุชุฎุฏู Admin
node scripts/create-admin.js

# โ ุณูุญุตู ุนูู ุฌููุน ุงูู 34 ุตูุงุญูุฉ ุชููุงุฆูุงู!

# 3. ุงูุชุญูู
node scripts/verify-permissions.js
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
Total Permissions: 34 โ
Admin Role Permissions: 34 โ
```

---

## ๐ ูููุดุงุฑูุน ุงูููุฌูุฏุฉ

ุฅุฐุง ูุงู ูุฏูู ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ ุจู 16 ุตูุงุญูุฉ ููุท:

### ุงูุฎูุงุฑ 1: ุฅุนุงุฏุฉ ุชุดุบูู Migration (ููุตู ุจู)

```bash
# 1. ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ
DELETE FROM role_permissions;
DELETE FROM permissions;

# 2. ุฅุนุงุฏุฉ ุชุดุบูู Migration
npm run migrate

# 3. ุงูุชุญูู
node scripts/verify-permissions.js
```

### ุงูุฎูุงุฑ 2: ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช

```bash
# ุชุดุบูู ุณูุฑูุจุช ุฅุถุงูุฉ ุงูุตูุงุญูุงุช
node scripts/add-all-permissions.js
```

---

## ๐ ุงูููุงุฑูุฉ

| ุงูุนูุตุฑ | ุงููุฏูู | ุงูุฌุฏูุฏ |
|--------|--------|--------|
| **Migrations** | 16 ุตูุงุญูุฉ | 34 ุตูุงุญูุฉ โ |
| **Migration ุฅุถุงูู** | ูุทููุจ (009) | ุบูุฑ ูุทููุจ โ |
| **ุงูุณูุฑูุจุชุงุช** | ูุทููุจุฉ | ุงุฎุชูุงุฑูุฉ โ |
| **ุงูุชูุตูุจ** | ุฎุทูุชูู | ุฎุทูุฉ ูุงุญุฏุฉ โ |

---

## โ ุงูููุงุฆุฏ

### 1. ุณูููุฉ ุงูุชูุตูุจ
- โ ุฎุทูุฉ ูุงุญุฏุฉ ููุท: `npm run migrate`
- โ ูุง ุญุงุฌุฉ ูุณูุฑูุจุชุงุช ุฅุถุงููุฉ
- โ ุฌููุน ุงูุตูุงุญูุงุช ุฌุงูุฒุฉ ูุณุจูุงู

### 2. ุงูุงุชุณุงู
- โ ุฌููุน ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ุชุจุฏุฃ ุจููุณ ุงูุตูุงุญูุงุช
- โ ูุง ุงุฎุชูุงูุงุช ุจูู ุงูุจูุฆุงุช
- โ ุชูุญูุฏ ุงููุธุงู

### 3. ุงูุตูุงูุฉ
- โ ููู ูุงุญุฏ ููุตูุงุญูุงุช
- โ ุณูููุฉ ุงูุชุญุฏูุซ
- โ ูุถูุญ ูู ุงูููุฏ

---

## ๐ฏ ุงูุฎูุงุตุฉ

### โ ุชู ุจูุฌุงุญ

1. **ุชุญุฏูุซ Migration ุงูุฃุณุงุณู** ููุญุชูู ุนูู 34 ุตูุงุญูุฉ
2. **ุญุฐู Migration ุงูุฅุถุงูู** (009) ูุฃูู ูู ูุนุฏ ุถุฑูุฑูุงู
3. **ุชูุญูุฏ ุงููุธุงู** - ุฌููุน ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ ุชุจุฏุฃ ุจู 34 ุตูุงุญูุฉ
4. **ุชุจุณูุท ุงูุชูุตูุจ** - ุฎุทูุฉ ูุงุญุฏุฉ ููุท

### ๐ ุงููุชูุฌุฉ

ุงูุขู ุนูุฏ ุชุดุบูู `npm run migrate` ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ:
- โ ูุชู ุฅูุดุงุก **34 ุตูุงุญูุฉ** ุชููุงุฆูุงู
- โ ุฏูุฑ **Admin** ูุญุตู ุนูู ุฌููุน ุงูุตูุงุญูุงุช
- โ ุงููุธุงู **ุฌุงูุฒ ููุงุณุชุฎุฏุงู** ููุฑุงู

---

## ๐ ููุงุญุธุงุช

1. **ูููุดุงุฑูุน ุงูุฌุฏูุฏุฉ**: ููุท ุดุบู `npm run migrate` ููู ุดูุก ุฌุงูุฒ
2. **ูููุดุงุฑูุน ุงูููุฌูุฏุฉ**: ุงุณุชุฎุฏู `add-all-permissions.js` ุฃู ุฃุนุฏ ุชุดุบูู Migration
3. **ุงูุตูุงุญูุงุช ุซุงุจุชุฉ**: ูู ุชุญุชุงุฌ ูุฅุถุงูุฉ ุตูุงุญูุงุช ูุฏููุงู ุจุนุฏ ุงูุขู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 2025-10-11  
**ุงูุญุงูุฉ**: โ ููุชูู  
**ุงูุฅุตุฏุงุฑ**: 2.0
