# ูุธุงู ุชูููู ุงููุฑุงุฌุนูู - Reviewer Rating System

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ุชูููู ุดุงูู ูููุฑุงุฌุนูู ูู ูุธุงู Pipefy ูุชูุญ ุชูููู ุฃุฏุงุก ุงููุฑุงุฌุนูู ุจุนุฏ ุงูุชูุงู ุงููุฑุงุฌุนุฉ.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุธุงู ุงูุชูููู ุงูุชูุงุนูู
- **ุฎูุงุฑุงุช ุงูุชูููู**: ุฃุฑุจุนุฉ ูุณุชููุงุช (ุถุนููุ ุฌูุฏุ ุฌูุฏ ุฌุฏุงูุ ููุชุงุฒ)
- **ูุงุฌูุฉ ุจุตุฑูุฉ**: ุฃุฒุฑุงุฑ ููููุฉ ูุน ุฑููุฒ ุชุนุจูุฑูุฉ
- **ุนุฑุถ ุงูุชูููู**: ุฅุธูุงุฑ ุงูุชูููู ุงูุญุงูู ุจุฃููุงู ูููุฒุฉ

### 2. ุณูุฑ ุงูุนูู ุงููุญุณู
1. **ุฅุถุงูุฉ ูุฑุงุฌุน** โ ุญุงูุฉ "ูุนูู"
2. **ุจุฏุก ุงููุฑุงุฌุนุฉ** โ ุญุงูุฉ "ููุฏ ุงููุฑุงุฌุนุฉ" 
3. **ุฅููุงู ุงููุฑุงุฌุนุฉ** โ ุญุงูุฉ "ููุชูู"
4. **ุฅุถุงูุฉ ุงูุชูููู** โ ุธููุฑ ุฎูุงุฑุงุช ุงูุชูููู
5. **ุญูุธ ุงูุชูููู** โ ุนุฑุถ ุงูุชูููู ุงูููุงุฆู

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. Backend (API)
- โ **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุญูู `rate` ููุฌูุฏ ูุณุจูุงู
- โ **ุงููููุฐุฌ**: `TicketReviewer.js` ูุฏุนู ุงูุชูููู
- โ **ูุญุฏุฉ ุงูุชุญูู**: `TicketReviewerController.js` ุชุฏุนู ุงูุชูููู
- โ **ุงููุณุงุฑุงุช**: `PUT /api/ticket-reviewers/{id}/status` ูุฏุนู `rate`

### 2. Frontend (ุงููุงุฌูุฉ)
- โ **ุงูุฎุฏูุฉ**: ุชุญุฏูุซ `ticketReviewerService.ts`
- โ **ุงููุงุฌูุฉ**: ุชุญุฏูุซ `TicketModal.tsx`
- โ **ุงูุชูุงุนู**: ุฅุถุงูุฉ ุฏุงูุฉ `handleUpdateReviewRate`

## ุงููููุงุช ุงููุนุฏูุฉ

### 1. `src/services/ticketReviewerService.ts`
```typescript
// ุฅุถุงูุฉ ุญูู rate ุฅูู interfaces
export interface TicketReviewer {
  // ... ุงูุญููู ุงูููุฌูุฏุฉ
  rate?: 'ุถุนูู' | 'ุฌูุฏ' | 'ุฌูุฏ ุฌุฏุง' | 'ููุชุงุฒ' | null;
}

export interface UpdateReviewStatusData {
  review_status: 'pending' | 'in_progress' | 'completed' | 'skipped';
  review_notes?: string;
  rate?: 'ุถุนูู' | 'ุฌูุฏ' | 'ุฌูุฏ ุฌุฏุง' | 'ููุชุงุฒ' | null;
}
```

### 2. `src/components/kanban/TicketModal.tsx`
```typescript
// ุฅุถุงูุฉ ุฏุงูุฉ ูุนุงูุฌุฉ ุงูุชูููู
const handleUpdateReviewRate = async (reviewerId: string, rate: string) => {
  try {
    const response = await ticketReviewerService.updateReviewStatus(reviewerId, {
      review_status: 'completed',
      rate: rate
    });
    
    if (response.success) {
      await loadReviewers();
      alert('ุชู ุชุญุฏูุซ ุงูุชูููู ุจูุฌุงุญ!');
    }
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุชุญุฏูุซ ุงูุชูููู:', error);
    alert('ูุดู ูู ุชุญุฏูุซ ุงูุชูููู');
  }
};
```

## ูุงุฌูุฉ ุงููุณุชุฎุฏู

### 1. ุฎูุงุฑุงุช ุงูุชูููู (ุชุธูุฑ ุจุนุฏ ุงูุชูุงู ุงููุฑุงุฌุนุฉ)
```jsx
{reviewer.review_status === 'completed' && !reviewer.rate && (
  <div className="mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg">
    <p className="text-sm font-medium text-blue-900 mb-2">ููู ุฃุฏุงุก ุงููุฑุงุฌุน:</p>
    <div className="grid grid-cols-2 gap-2">
      <button onClick={() => handleUpdateReviewRate(reviewer.id, 'ููุชุงุฒ')}>
        โญ ููุชุงุฒ
      </button>
      <button onClick={() => handleUpdateReviewRate(reviewer.id, 'ุฌูุฏ ุฌุฏุง')}>
        ๐ ุฌูุฏ ุฌุฏุงู
      </button>
      <button onClick={() => handleUpdateReviewRate(reviewer.id, 'ุฌูุฏ')}>
        ๐ ุฌูุฏ
      </button>
      <button onClick={() => handleUpdateReviewRate(reviewer.id, 'ุถุนูู')}>
        ๐ ุถุนูู
      </button>
    </div>
  </div>
)}
```

### 2. ุนุฑุถ ุงูุชูููู ุงูุญุงูู
```jsx
{reviewer.review_status === 'completed' && reviewer.rate && (
  <div className="mt-2 p-2 bg-gray-100 border border-gray-200 rounded-lg">
    <div className="flex items-center justify-between">
      <span className="text-sm font-medium text-gray-700">ุงูุชูููู:</span>
      <span className={`text-sm px-2 py-1 rounded ${getColorClass(reviewer.rate)}`}>
        {getRatingDisplay(reviewer.rate)}
      </span>
    </div>
  </div>
)}
```

## ุงูุฃููุงู ูุงูุชุตููู

### ุฃููุงู ุงูุชููููุงุช
- **ููุชุงุฒ**: ุฃุฎุถุฑ (`bg-green-200 text-green-800`)
- **ุฌูุฏ ุฌุฏุงู**: ุฃุฒุฑู (`bg-blue-200 text-blue-800`)
- **ุฌูุฏ**: ุฃุตูุฑ (`bg-yellow-200 text-yellow-800`)
- **ุถุนูู**: ุฃุญูุฑ (`bg-red-200 text-red-800`)

### ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ
- **ููุชุงุฒ**: โญ
- **ุฌูุฏ ุฌุฏุงู**: ๐
- **ุฌูุฏ**: ๐
- **ุถุนูู**: ๐

## API Endpoints

### ุชุญุฏูุซ ุงูุชูููู
```http
PUT /api/ticket-reviewers/{id}/status
Content-Type: application/json
Authorization: Bearer {token}

{
  "review_status": "completed",
  "rate": "ููุชุงุฒ"
}
```

### ุฌูุจ ุงููุฑุงุฌุนูู ูุน ุงูุชููููุงุช
```http
GET /api/ticket-reviewers/ticket/{ticketId}
Authorization: Bearer {token}
```

## ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน
node test-reviewer-rating-system.js
```

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ
1. โ ุชุณุฌูู ุงูุฏุฎูู
2. โ ุฌูุจ ุงูุชุฐุงูุฑ ูุงููุณุชุฎุฏููู
3. โ ุฅุถุงูุฉ ูุฑุงุฌุน
4. โ ุจุฏุก ุงููุฑุงุฌุนุฉ
5. โ ุฅููุงู ุงููุฑุงุฌุนุฉ
6. โ ุงุฎุชุจุงุฑ ุฌููุน ุงูุชููููุงุช
7. โ ุงูุชุญูู ูู ุญูุธ ุงูุชููููุงุช
8. โ ุชูุธูู ุงูุจูุงูุงุช

## ุงูุงุณุชุฎุฏุงู

### 1. ุฅุถุงูุฉ ูุฑุงุฌุน
1. ุงูุชุญ ุงูุชุฐูุฑุฉ
2. ุงุฐูุจ ุฅูู ูุณู "ุงููุฑุงุฌุนูู"
3. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ูุฑุงุฌุน"
4. ุงุฎุชุฑ ุงููุณุชุฎุฏู

### 2. ุนูููุฉ ุงููุฑุงุฌุนุฉ
1. ุงุถุบุท "ุจุฏุก ุงููุฑุงุฌุนุฉ"
2. ุงุถุบุท "ุฅููุงู ุงููุฑุงุฌุนุฉ"
3. ุณุชุธูุฑ ุฎูุงุฑุงุช ุงูุชูููู

### 3. ุฅุถุงูุฉ ุงูุชูููู
1. ุงุฎุชุฑ ุงูุชูููู ุงูููุงุณุจ
2. ุณูุชู ุญูุธ ุงูุชูููู ุชููุงุฆูุงู
3. ุณูุธูุฑ ุงูุชูููู ูู ูุงุฌูุฉ ุงููุฑุงุฌุน

## ุงููููุฒุงุช

### โ ุงููุฒุงูุง
- **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ุจุฏูููุฉ ูุจุณูุทุฉ
- **ุชุตููู ุฌููู**: ุฃููุงู ูุชูุงุณูุฉ ูุฑููุฒ ูุนุจุฑุฉ
- **ุชูุงูู ูุงูู**: ูุนูู ูุน ุงููุธุงู ุงูููุฌูุฏ
- **ูุฑููุฉ**: ูููู ุชุบููุฑ ุงูุชูููู
- **ุดูุงููุฉ**: ุนุฑุถ ูุงุถุญ ููุชููููุงุช

### ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ
- ุฅุถุงูุฉ ุชูุงุฑูุฑ ุงูุชููููุงุช
- ุฅุดุนุงุฑุงุช ุนูุฏ ุฅุถุงูุฉ ุงูุชูููู
- ุฅุญุตุงุฆูุงุช ุฃุฏุงุก ุงููุฑุงุฌุนูู
- ุชุตุฏูุฑ ุชูุงุฑูุฑ ุงูุชูููู

## ุงูุฃูุงู

- โ **ุงููุตุงุฏูุฉ**: ูุชุทูุจ ุชุณุฌูู ุฏุฎูู
- โ **ุงูุชุฎููู**: ููุท ุงููุฎูููู ูููููู ุงูุชูููู
- โ **ุงูุชุญูู**: ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ **ุงูุญูุงูุฉ**: ุญูุงูุฉ ูู ุงููุฌูุงุช

## ุงูุฏุนู ุงูููู

### ุงููุดุงูู ุงูุดุงุฆุนุฉ

#### 1. ูุง ุชุธูุฑ ุฎูุงุฑุงุช ุงูุชูููู
- **ุงูุณุจุจ**: ุงููุฑุงุฌุนุฉ ุบูุฑ ููุชููุฉ
- **ุงูุญู**: ุชุฃูุฏ ูู ุฅููุงู ุงููุฑุงุฌุนุฉ ุฃููุงู

#### 2. ูุดู ุญูุธ ุงูุชูููู
- **ุงูุณุจุจ**: ูุดููุฉ ูู ุงูุงุชุตุงู ุฃู ุงูุตูุงุญูุงุช
- **ุงูุญู**: ุชุญูู ูู ุงูุงุชุตุงู ูุตูุงุญูุงุช ุงููุณุชุฎุฏู

#### 3. ุงูุชูููู ูุง ูุธูุฑ
- **ุงูุณุจุจ**: ูุดููุฉ ูู ุชุญุฏูุซ ุงูุจูุงูุงุช
- **ุงูุญู**: ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

### ุณุฌู ุงูุชุบููุฑุงุช

#### ุงูุฅุตุฏุงุฑ 1.0.0 (ุงูููู)
- โ ุฅุถุงูุฉ ูุธุงู ุงูุชูููู ุงูุฃุณุงุณู
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุชูุงุนููุฉ
- โ ุชูุงูู ูุน API ููุฌูุฏ
- โ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ**: ูุฑูู ุชุทููุฑ Pipefy  
**ุงูุชุงุฑูุฎ**: ุฃูุชูุจุฑ 2024  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
